<ion-content *ngIf="!loading" class="content-container">
  <div *ngIf="loading" class="loading-overlay">
    <p>Loading...</p>
  </div>
  <ion-buttons slot="start">
    <ion-button routerLink="/home">
      <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
    </ion-button>
  </ion-buttons>
  <ion-title class="post-title">{{ post?.name }}</ion-title>
  <!-- Informasi Pengguna (Profile Image dan Username) -->
  <div *ngIf="post?.user" class="user-details">
    <div class="user-info">
      <img [src]="post.user.image_user" alt="User Image" class="user-image" />
      <p class="username">{{ post.user.username }}</p>
    </div>
  </div>

  <div *ngIf="post" class="post-container">
    <img [src]="post?.image_url" alt="Post Image" class="post-image" />
  </div>

  <div *ngIf="post" class="post-details">
    <h2>{{ post.caption }}</h2>
    <p><strong>Viewed:</strong> {{ post.viewed }}</p>
  </div>

  <div *ngIf="post?.products?.length > 0" class="product-list">
    <h3 style="text-align: center">Related Products</h3>
    <ion-list>
      <ion-item *ngFor="let product of post.products">
        <ion-thumbnail slot="start" [routerLink]="['/detail', product.id]">
          <img [src]="product.image_product" />
        </ion-thumbnail>
        <ion-label>
          <h2>{{ product.name }}</h2>
          <p>{{ product.price | currency:'Rp' }}</p>
        </ion-label>
      </ion-item>
    </ion-list>
  </div>

  <div class="footer">
    <ion-icon
      class="footer-icon"
      name="home-outline"
      routerLink="/home"
    ></ion-icon>
    <ion-icon
      class="footer-icon"
      name="search-outline"
      routerLink="/product"
    ></ion-icon>
    <ion-icon class="footer-icon" name="add-circle-outline"></ion-icon>
    <ion-icon
      class="footer-icon"
      name="heart-outline"
      routerLink="/bag"
    ></ion-icon>
    <ion-icon
      class="footer-icon"
      name="person-outline"
      routerLink="/profile"
    ></ion-icon>
  </div>
</ion-content>
